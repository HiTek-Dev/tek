---
phase: 27-desktop-ui-overhaul
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - apps/desktop/src/index.css
  - apps/desktop/src/components/ui/Skeleton.tsx
  - apps/desktop/src/components/ui/Spinner.tsx
  - apps/desktop/src/components/ui/Tabs.tsx
  - apps/desktop/src/components/ui/Badge.tsx
  - apps/desktop/package.json
autonomous: true
requirements:
  - DSKV-06
  - DSKV-07
  - DSKV-04

must_haves:
  truths:
    - "All UI surfaces use brand color tokens instead of hardcoded hex/blue-600/gray-800"
    - "Inter font renders for all UI text; monospace stack renders for code"
    - "Skeleton, Spinner, Tabs, and Badge components exist and are importable"
  artifacts:
    - path: "apps/desktop/src/index.css"
      provides: "Brand design tokens via @theme, Inter font imports, fadeIn animation keyframes"
      contains: "@theme"
    - path: "apps/desktop/src/components/ui/Skeleton.tsx"
      provides: "Reusable skeleton loader component"
      exports: ["Skeleton"]
    - path: "apps/desktop/src/components/ui/Spinner.tsx"
      provides: "Loading spinner component"
      exports: ["Spinner"]
    - path: "apps/desktop/src/components/ui/Tabs.tsx"
      provides: "Simple tab bar component"
      exports: ["Tabs"]
    - path: "apps/desktop/src/components/ui/Badge.tsx"
      provides: "Model badge and status badge component"
      exports: ["Badge"]
  key_links:
    - from: "apps/desktop/src/index.css"
      to: "all components"
      via: "Tailwind @theme tokens available as utility classes"
      pattern: "bg-brand-|text-brand-|bg-surface-|text-text-"
---

<objective>
Establish the design system foundation: brand color palette, typography, and reusable UI primitives.

Purpose: Every subsequent plan depends on consistent design tokens and shared UI components. This plan creates the visual language that makes the desktop app feel branded and cohesive.
Output: Updated index.css with @theme tokens + @fontsource/inter imports, four UI primitive components (Skeleton, Spinner, Tabs, Badge), fadeIn animation keyframes.
</objective>

<execution_context>
@/Users/hitekmedia/.claude/get-shit-done/workflows/execute-plan.md
@/Users/hitekmedia/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/27-desktop-ui-overhaul/27-RESEARCH.md
@apps/desktop/src/index.css
@apps/desktop/package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install @fontsource/inter and define design tokens in index.css</name>
  <files>apps/desktop/package.json, apps/desktop/src/index.css</files>
  <action>
Install @fontsource/inter:
```bash
cd apps/desktop && pnpm add @fontsource/inter
```

Rewrite `apps/desktop/src/index.css` to:
1. Keep the existing `@import "tailwindcss"` at the top
2. Add `@import "@fontsource/inter/400.css"`, `@import "@fontsource/inter/500.css"`, `@import "@fontsource/inter/600.css"`, `@import "@fontsource/inter/700.css"`
3. Add a `@theme { }` block defining:
   - Brand colors: `--color-brand-50: #eef2ff`, `--color-brand-100: #e0e7ff`, `--color-brand-400: #818cf8`, `--color-brand-500: #6366f1`, `--color-brand-600: #4f46e5` (indigo palette)
   - Surface colors: `--color-surface-primary: #0f0f0f`, `--color-surface-secondary: #1a1a1a`, `--color-surface-elevated: #252525`, `--color-surface-overlay: #2a2a2a`
   - Text colors: `--color-text-primary: #e0e0e0`, `--color-text-secondary: #9ca3af`, `--color-text-muted: #6b7280`
   - Font families: `--font-sans: 'Inter', system-ui, -apple-system, sans-serif`, `--font-mono: 'SF Mono', 'Fira Code', 'JetBrains Mono', ui-monospace, monospace`
4. Update `:root` to use `font-family: var(--font-sans)` and `background-color: var(--color-surface-primary)` and `color: var(--color-text-primary)`
5. Add `@keyframes fadeIn` (from opacity 0 + translateY(4px) to opacity 1 + translateY(0)) and `.animate-fade-in { animation: fadeIn 0.15s ease-out; }`
6. Keep existing scrollbar styles, blink keyframe, and box-sizing reset

After the @theme block, these tokens become available as Tailwind utilities: `bg-brand-600`, `text-brand-400`, `bg-surface-primary`, `bg-surface-secondary`, `bg-surface-elevated`, `bg-surface-overlay`, `text-text-primary`, `text-text-secondary`, `text-text-muted`, `font-sans`, `font-mono`.
  </action>
  <verify>
Run `pnpm build` from apps/desktop to confirm Tailwind processes the @theme tokens without errors.
Check that @fontsource/inter is in package.json dependencies.
  </verify>
  <done>
index.css defines brand/surface/text color tokens and font families via @theme. Inter font is installed and imported. fadeIn animation keyframes are defined.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create reusable UI primitive components</name>
  <files>apps/desktop/src/components/ui/Skeleton.tsx, apps/desktop/src/components/ui/Spinner.tsx, apps/desktop/src/components/ui/Tabs.tsx, apps/desktop/src/components/ui/Badge.tsx</files>
  <action>
Create `apps/desktop/src/components/ui/` directory.

**Skeleton.tsx:** Export a `Skeleton` component that accepts optional `className`, `width`, and `height` props. Renders a `<div>` with `animate-pulse bg-surface-elevated rounded` and merges the className prop. Default height is `h-4`.

**Spinner.tsx:** Export a `Spinner` component with optional `size` prop (default `"md"`). Renders a spinning circle SVG using `animate-spin text-brand-400`. Sizes: sm=16px, md=24px, lg=32px.

**Tabs.tsx:** Export a `Tabs` component that accepts `tabs: { id: string; label: string }[]`, `activeTab: string`, and `onTabChange: (id: string) => void`. Renders a horizontal bar of buttons. Active tab gets `border-b-2 border-brand-500 text-text-primary`; inactive gets `text-text-muted hover:text-text-secondary`. Use `border-b border-surface-overlay` on the container.

**Badge.tsx:** Export a `Badge` component that accepts `children`, optional `variant` prop (`"default" | "success" | "warning" | "error" | "brand"`, default `"default"`). Renders an inline `<span>` with `text-xs font-medium px-2 py-0.5 rounded-full`. Variant colors:
- default: `bg-surface-elevated text-text-secondary`
- success: `bg-green-500/15 text-green-400`
- warning: `bg-yellow-500/15 text-yellow-400`
- error: `bg-red-500/15 text-red-400`
- brand: `bg-brand-500/15 text-brand-400`
  </action>
  <verify>
Confirm all four files exist and export their components. Run `pnpm build` from apps/desktop â€” no TypeScript errors.
  </verify>
  <done>
Skeleton, Spinner, Tabs, and Badge components exist in `components/ui/` and are importable. All use design tokens from @theme (no hardcoded colors).
  </done>
</task>

</tasks>

<verification>
- `pnpm build` in apps/desktop succeeds
- index.css contains `@theme` block with brand, surface, text, and font tokens
- @fontsource/inter is in package.json dependencies
- All four UI components exist and use token-based Tailwind classes
- fadeIn animation keyframes are defined
</verification>

<success_criteria>
Brand design tokens are defined via Tailwind v4 @theme and usable as utility classes throughout the app. Inter font is installed and loaded. Four reusable UI primitive components (Skeleton, Spinner, Tabs, Badge) are ready for use by subsequent plans.
</success_criteria>

<output>
After completion, create `.planning/phases/27-desktop-ui-overhaul/27-01-SUMMARY.md`
</output>
