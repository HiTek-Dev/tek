---
phase: 19-desktop-integration-polish
plan: 04
type: execute
wave: 2
depends_on: ["19-01", "19-02"]
files_modified:
  - apps/desktop/src/components/Sidebar.tsx
  - apps/desktop/src/pages/DashboardPage.tsx
  - apps/desktop/src/pages/ChatPage.tsx
  - apps/desktop/src/components/ChatMessage.tsx
  - apps/desktop/src/components/GatewayStatus.tsx
  - apps/desktop/src/components/Layout.tsx
  - apps/desktop/src/index.css
autonomous: true
requirements: []

must_haves:
  truths:
    - "Sidebar icons render consistently across platforms (SVG instead of Unicode)"
    - "All pages use consistent padding and spacing conventions"
    - "Chat messages have clear visual distinction between user and assistant"
    - "Desktop app has polished, cohesive visual design"
  artifacts:
    - path: "apps/desktop/src/components/Sidebar.tsx"
      provides: "SVG icons replacing Unicode characters"
      contains: "svg"
    - path: "apps/desktop/src/index.css"
      provides: "Consistent spacing/layout variables if needed"
  key_links:
    - from: "apps/desktop/src/components/Sidebar.tsx"
      to: "apps/desktop/src/App.tsx"
      via: "Page navigation via onNavigate"
      pattern: "onNavigate"
---

<objective>
Polish desktop UI: replace Unicode icons with SVGs, standardize spacing, improve chat styling.

Purpose: Unicode characters (\u2302, \u2709, etc.) render inconsistently across macOS font configs. Page padding is inconsistent (mix of `p-4`, `p-6`, `px-4 py-3`). Chat messages have `space-y-0` (zero spacing). The app needs visual coherence.

Output: SVG icons in sidebar and dashboard, consistent spacing across pages, improved chat message styling.
</objective>

<execution_context>
@/Users/hitekmedia/.claude/get-shit-done/workflows/execute-plan.md
@/Users/hitekmedia/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@apps/desktop/src/components/Sidebar.tsx
@apps/desktop/src/pages/DashboardPage.tsx
@apps/desktop/src/pages/ChatPage.tsx
@apps/desktop/src/components/ChatMessage.tsx
@apps/desktop/src/components/GatewayStatus.tsx
@apps/desktop/src/components/Layout.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace Unicode icons with inline SVGs in Sidebar and Dashboard</name>
  <files>apps/desktop/src/components/Sidebar.tsx, apps/desktop/src/pages/DashboardPage.tsx</files>
  <action>
Do NOT install lucide-react (avoid new dependencies). Instead, create simple inline SVG icon components.

**Part A — Sidebar.tsx:**

Replace the Unicode icon strings with inline SVG elements. Create a small `icons` record at the top of the file:

```typescript
const icons: Record<string, React.ReactNode> = {
  dashboard: (
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
      <rect x="3" y="3" width="7" height="7" rx="1" />
      <rect x="14" y="3" width="7" height="7" rx="1" />
      <rect x="3" y="14" width="7" height="7" rx="1" />
      <rect x="14" y="14" width="7" height="7" rx="1" />
    </svg>
  ),
  chat: (
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
      <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z" />
    </svg>
  ),
  agents: (
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2" />
      <circle cx="12" cy="7" r="4" />
    </svg>
  ),
  settings: (
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
      <circle cx="12" cy="12" r="3" />
      <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06A1.65 1.65 0 0 0 4.68 15a1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06A1.65 1.65 0 0 0 9 4.68a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06A1.65 1.65 0 0 0 19.4 9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z" />
    </svg>
  ),
};
```

Update `navItems` to use `page` as the icon key instead of a Unicode string. Change the icon type from `string` to `React.ReactNode` and render `{icon}` directly instead of wrapping in `<span className="text-lg">`.

Update the nav button rendering to use the icon directly (no `text-lg` class needed for SVGs).

**Part B — DashboardPage.tsx:**

Apply the same pattern for quick action icons. Replace the Unicode strings (`\u2709`, `\u2663`, `\u2699`) with the same SVG icons (chat, agents, settings). Change the icon type from `string` to `React.ReactNode` and render directly.
  </action>
  <verify>Build desktop: `cd /Users/hitekmedia/Documents/GitHub/tek/apps/desktop && npx tsc --noEmit`. Verify no Unicode icon characters remain in Sidebar.tsx and DashboardPage.tsx.</verify>
  <done>All navigation icons are inline SVGs that render consistently across platforms. No Unicode characters used for icons.</done>
</task>

<task type="auto">
  <name>Task 2: Standardize page spacing and improve chat message styling</name>
  <files>apps/desktop/src/pages/ChatPage.tsx, apps/desktop/src/components/ChatMessage.tsx, apps/desktop/src/components/GatewayStatus.tsx, apps/desktop/src/components/Layout.tsx, apps/desktop/src/index.css</files>
  <action>
**Part A — Standardize page layout spacing:**

Read each page file and standardize padding:
- All pages: outer container uses `p-6` (24px) consistently
- Section headings: `mb-6` gap below
- Section spacing: `space-y-6` between major sections
- Max width: `max-w-4xl` for content pages (Settings, Dashboard), full width for Chat and Agents

Check `Layout.tsx` for the main content area wrapper. Ensure consistent overflow handling: `overflow-y-auto` on the main content area.

**Part B — Improve ChatMessage styling:**

In `ChatMessage.tsx`, improve visual distinction between user and assistant messages:
- User messages: right-aligned with `bg-blue-600/20` background, `border-l-2 border-blue-500`, rounded corners
- Assistant messages: left-aligned with `bg-gray-800/50` background, `border-l-2 border-gray-600`, rounded corners
- Add `space-y-3` or `space-y-4` between messages in the ChatPage message list (replace `space-y-0`)
- Add small role labels ("You" / agent name) in `text-xs text-gray-500` above each message
- Ensure message padding is `px-4 py-3` for comfortable reading

Read `ChatPage.tsx` to find where the message list spacing is applied and update it.

**Part C — Improve GatewayStatus component:**

In `GatewayStatus.tsx`:
- Add subtle border around the status card: `border border-gray-700/50`
- Add status color indicator: green dot for running, yellow for starting, red/gray for stopped
- Improve button spacing: `gap-3` between start/stop buttons
- Ensure the card uses `rounded-xl` consistent with Dashboard quick action cards

**Part D — Minor CSS improvements in `index.css`:**

Add smooth scrollbar styling for the dark theme if not present:
```css
::-webkit-scrollbar {
  width: 6px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  background: #374151;
  border-radius: 3px;
}
::-webkit-scrollbar-thumb:hover {
  background: #4b5563;
}
```
  </action>
  <verify>Build desktop: `cd /Users/hitekmedia/Documents/GitHub/tek/apps/desktop && npx tsc --noEmit`. Check that ChatPage uses `space-y-3` or `space-y-4` for message spacing (not `space-y-0`).</verify>
  <done>Consistent page spacing across all pages. Chat messages have clear visual distinction with role labels and colored borders. GatewayStatus has polished card styling. Scrollbars styled for dark theme.</done>
</task>

</tasks>

<verification>
1. Desktop app compiles without errors
2. No Unicode icon characters remain in Sidebar or Dashboard
3. Chat messages have visual distinction between user and assistant
4. Page padding is consistent (`p-6`) across all pages
5. GatewayStatus card has status color indicator and border
</verification>

<success_criteria>
- SVG icons in Sidebar and Dashboard render consistently
- All pages use `p-6` outer padding
- Chat messages have `space-y-3`+ spacing, colored borders, and role labels
- GatewayStatus has status indicator dot and polished card styling
- Dark-themed scrollbar styling in CSS
</success_criteria>

<output>
After completion, create `.planning/phases/19-desktop-integration-polish/19-04-SUMMARY.md`
</output>
